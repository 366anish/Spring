<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:c="http://www.springframework.org/schema/c"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean name="guavaCacheManager" class="org.springframework.cache.guava.GuavaCacheManager">
        <property name="caches">
            <set>
                <ref bean="c1"/>
                <ref bean="c2"/>
                <ref bean="c3"/>
                <ref bean="c4"/>
            </set>
        </property>
    </bean>
    <bean name="c1" class="org.springframework.cache.guava.GuavaCacheFactoryBean" c:name="c1" />
    <bean name="c2" class="org.springframework.cache.guava.GuavaCacheFactoryBean" c:name="c2" p:cacheBuilder-ref="cb2"/>
    <bean name="c3" class="org.springframework.cache.guava.GuavaCacheFactoryBean" c:name="c3" p:cacheBuilderSpecString="maximumSize=1,expireAfterAccess=5m"/>
    <bean name="c4" class="org.springframework.cache.guava.GuavaCacheFactoryBean" c:name="c4" c:allowNullValues="false" p:cacheBuilderSpecString="maximumSize=1,expireAfterAccess=5m" />

    <bean name="cb2" class="com.google.common.cache.CacheBuilder" factory-method="from">
         <constructor-arg value="maximumSize=10,expireAfterAccess=5m"></constructor-arg>
    </bean>
</beans>